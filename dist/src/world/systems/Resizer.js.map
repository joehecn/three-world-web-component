{"version":3,"file":"Resizer.js","sourceRoot":"","sources":["../../../../src/world/systems/Resizer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,OAAO,CAAC;AAIxC,MAAM,QAAQ,GAAG,CAAC,QAA6B,EAAE,EAAE;IACjD,MAAM,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC;IACnC,MAAM,UAAU,GAAG,CAAC,CAAC,CAAC,2BAA2B;IACjD,MAAM,KAAK,GAAG,MAAM,CAAC,WAAW,GAAG,UAAU,IAAI,CAAC,CAAC;IACnD,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,GAAG,UAAU,IAAI,CAAC,CAAC;IACrD,MAAM,UAAU,GAAG,MAAM,CAAC,KAAK,KAAK,KAAK,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC;IAEtE,IAAI,UAAU,EAAE;QACd,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;KACxC;IAED,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;AAEF,MAAM,OAAO,OAAQ,SAAQ,eAAe;IAC1C,YAAY,QAA6B;QACvC,KAAK,EAAE,CAAC;QAER,mBAAmB;QACnB,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAEnB,kCAAkC;QAClC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;YACrC,MAAM,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,UAAU,EAAE;gBACd,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;aAC/C;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF","sourcesContent":["import { EventDispatcher } from 'three';\n\nimport * as THREE from 'three';\n\nconst _setSize = (renderer: THREE.WebGLRenderer) => {\n  const canvas = renderer.domElement;\n  const pixelRatio = 1; // window.devicePixelRatio;\n  const width = canvas.clientWidth * pixelRatio || 0;\n  const height = canvas.clientHeight * pixelRatio || 0;\n  const needResize = canvas.width !== width || canvas.height !== height;\n\n  if (needResize) {\n    renderer.setSize(width, height, false);\n  }\n\n  return needResize;\n};\n\nexport class Resizer extends EventDispatcher {\n  constructor(renderer: THREE.WebGLRenderer) {\n    super();\n\n    // set initial size\n    _setSize(renderer);\n\n    // resize if the window is resized\n    window.addEventListener('resize', () => {\n      const needResize = _setSize(renderer);\n      if (needResize) {\n        this.dispatchEvent({ type: 'window-resize' });\n      }\n    });\n  }\n}\n"]}